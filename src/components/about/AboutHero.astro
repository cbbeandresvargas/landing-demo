---
// AboutHero.astro - Hero section for About page
import { getLangFromUrl, useTranslations } from "@i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<!-- Hero Section -->
<section class="section home-dark-section min-h-screen flex items-center">
	<div class="col-span-12">
		<div class="text-center mb-16">
			<h1 class="font-display text-6xl font-extrabold uppercase mb-6 sm:text-7xl md:text-8xl lg:text-9xl">
				<span class="about-title-line">{lang === 'es' ? 'Sobre' : 'About'}</span>
				<span class="about-title-line">{lang === 'es' ? 'Mí' : 'Me'}</span>
			</h1>
			<p class="about-hero-subtitle text-xl text-slate-400 max-w-3xl mx-auto font-mono">
				{lang === 'es' 
					? 'Desarrollador Full-Stack y Especialista en Seguridad con más de 5 años de experiencia'
					: 'Full-Stack Developer & Security Specialist with 5+ years of experience'
				}
			</p>
		</div>
	</div>
</section>

<style>
	.about-title-line {
		display: block;
		/* transform: translateY(100%); - Disabled for debugging */
	}
</style>

<script>
	import { gsap } from "gsap";
	import { SplitText } from "gsap/SplitText";

	gsap.registerPlugin(SplitText);

	function init() {
		// Split text for animation
		const childSplit = new SplitText(".about-title-line", {
			type: "lines",
			linesClass: "split-child",
		});
		const parentSplit = new SplitText(".about-title-line", {
			linesClass: "split-parent",
		});

		// Animate title lines
		gsap.timeline()
			.from(childSplit.lines, {
				duration: 1.2,
				yPercent: 100,
				ease: "power3.out",
				stagger: 0.1,
				delay: 0.3
			})
			.from(".about-hero-subtitle", {
				duration: 0.8,
				y: 50,
				opacity: 0,
				ease: "power2.out"
			}, "-=0.6");
	}

	document.removeEventListener("DOMContentLoaded", init);
	document.addEventListener("DOMContentLoaded", init);
</script>

<style>
	.about-title-line {
		display: block;
		overflow: hidden;
	}
	.about-title-line :global(.split-parent) {
		overflow: hidden;
	}
	.about-title-line :global(.split-child) {
		display: inline-block;
	}
</style>
